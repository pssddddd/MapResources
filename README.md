# 地图瓦片下载-发布-压缩

#### 介绍
地图资源管理软件是一款高效的工具，目的简化地图瓦片资源的发布、下载和压缩过程。通过WMS，用户能够轻松发布本地的瓦图资源和高程数据，同时支持灵活的下载配置选项。系统还提供资源压缩功能，以减少磁盘开销并方便部署，压缩后的文件可直接发布。整体设计是提升用户在地图数据管理中的效率和便捷性。

完全免费、无需注册、无需安装、不限速

交流群：656579698

#### 用途

1.  下载管理：允许用户通过瓦图地址便捷地下载所需的瓦图资源，支持通道配置和代理配置，确保在不同网络环境下都能实现高效和稳定的下载体验，可进行全球数据下载或选择区域数据下载。系统会实时显示下载进度，帮助用户监控下载状态，使获取地图数据变得更加简便和高效。支持Google、ArcGIS、高德、百度、天地图等下载，可自行配制下载地址。

2.  通过WMS使用户能够将本地的瓦图资源、高程数据资源、压缩的瓦图资源及其他文件资源快速发布。用户可以灵活设置黑名单和白名单，以精确控制访问权限，并支持同时发布多地图资源，确保数据的安全性和高效管理。此功能为用户提供了一个直观的方式来共享和管理地图数据。

3.  压缩管理：使用户能够将瓦图资源压缩成一个文件或按层级拆分成多个文件，目的是减少磁盘开销并方便部署。用户可以选择适合的压缩方式，以提高资源传输效率，压缩后的文件也可直接在资源发布中使用，增强了资源管理的灵活性和高效性。

#### 使用过程

双击运行MapRelease.exe启动程序。

![输入图片说明](https://gitee.com/pssddddd/map-resources/raw/master/Other/1.png)

双击上述图标以启动程序。系统初始启动后显示主界面，如下图所示：

![输入图片说明](https://gitee.com/pssddddd/map-resources/raw/master/Other/2.png)

启动系统后默认为锁定状态，输入密码解锁。初始密码为 **admin** ，如下图所示： 

![输入图片说明](https://gitee.com/pssddddd/map-resources/raw/master/Other/3.png)

标注1：用于系统临时锁定或锁定密码修改；

标注2：隐藏的日志显示，使用鼠标拖动可显示日志；

标注3：系统关于界面。

#### 使用说明

1.  发布管理
在资源发布功能中，新建任务时，用户需填写一系列参数，包括黑名单、白名单、发布地址以及相关的地图资源信息。通过设置黑名单和白名单，用户可以精确控制哪些用户或设备可以访问发布的资源，从而确保数据的安全性。此外，指定的发布地址和地图资源则确保了用户能够顺利共享和管理所需的地图数据。
- 点击左上角新建按钮，如下图所示：

![输入图片说明](https://gitee.com/pssddddd/map-resources/raw/master/Other/4.png)

- 新建界面，如下图所示：

![输入图片说明](https://gitee.com/pssddddd/map-resources/raw/master/Other/5.png)

输入对应参数即可对资源进行发布。具体参数含义如下：

黑名单：用于阻止特定用户或设备访问发布的地图资源，提升数据安全性；

白名单：用于允许特定用户或设备访问发布的地图资源，确保安全访问权限；

发布地址：用于指定地图资源在系统中的访问路径，用户可以通过该地址获取已发布的资源；

发布目录：用于指定地图资源在服务器上的存储路径，可对任意文件进行发布(html、dat等)；

高程数据：用于选择高程数据文件，仅支持压缩数据；

地图资源：用于地图瓦图资源发布，资源可以是瓦图资源或是压缩的瓦图资源，允许同时对多个资源进行发布；

- 输入参数保存，如下图所示：

![输入图片说明](https://gitee.com/pssddddd/map-resources/raw/master/Other/6.png)

2.  下载管理
下载管理功能通过瓦图地址让用户高效获取地图资源，并支持通道和代理配置，确保下载过程在不同网络条件下的稳定性与速度。用户可以根据需求灵活调整配置，实现优化下载体验。同时，系统提供实时下载进度显示，使用户能够全程监控下载状态，提升地图资源的获取效率。

- 点击左上角新建按钮，如下图所示：

![输入图片说明](https://gitee.com/pssddddd/map-resources/raw/master/Other/7.png)

- 新建界面，如下图所示：

![输入图片说明](https://gitee.com/pssddddd/map-resources/raw/master/Other/8.png)

输入对应参数即可对地图资源进行下载。具体参数含义如下：

层数选择：选择需要下载的层数，未选择的层数将进行忽略；

下载地址：包含x、y、z的瓦图地址，通常有Google、ArcGIS、天地图、高德、百度等，输入地址后可点击地址后预览按钮，点击后地图将进行重新加载；

存储目录：用于存储下载的瓦图资源，存储目录为z/x/y.png；

图片格式：当前支持PNG与JPEG，通常注记选择PNG以使用透明图；

排除大小：作用是过滤掉指定大小的地图瓦图资源，确保在下载过程中只处理符合要求的资源，从而优化性能和减少不必要的文件占用空间。

代理信息：用于代理信息输入，如使用了VPN进行Google图下载，则需要输入对应的代理信息，通常地址为本地(127.0.0.1)，端口为代理软件的使用端口；

下载通道：表示同时使用多少通道进行下载，通道数越多速度越快，但速度过快会导致个别瓦图服务拒绝响应；

通道资源：表示每个通道进行多少资源下载，通常采用默认值即可；

文件校验：系统在分配资源时是否校验本地已经存在文件，如果存在则不进行重复下载，会消耗一定磁盘资源；

下载范围：默认为全球下载(值为0)，可通过输入或框选需要下载的区域。

-  输入参数保存，如下图所示：

![输入图片说明](https://gitee.com/pssddddd/map-resources/raw/master/Other/9.png)

-  下载后瓦片数据，如下图所示：

![输入图片说明](https://gitee.com/pssddddd/map-resources/raw/master/Other/10.png)

3.  压缩管理
压缩管理功能允许用户将地图瓦图资源进行高效压缩，既可以将所有资源打包成一个文件，也可以按层级拆分为多个文件，以减少磁盘空间占用并简化部署。压缩后的资源仍可用于发布，用户能够灵活选择适合的压缩方式，提升资源管理的效率和便捷性。

- 点击左上角新建按钮，如下图所示：

![输入图片说明](https://gitee.com/pssddddd/map-resources/raw/master/Other/11.png)

- 新建界面，如下图所示：

![输入图片说明](https://gitee.com/pssddddd/map-resources/raw/master/Other/12.png)

输入对用参数即可对资源进行发布。具体参数含义如下：

层数选择：选择需要压缩的层数，未选择的层数将进行忽略；

资源目录：表示瓦图存储目录，目录结构为z/x/y.png；

存储文件：表示压缩文件名称，扩展名默认为dat；

图片格式：当前支持PNG与JPEG，通常注记选择PNG以使用透明图；

排除大小：作用是过滤掉指定大小的地图瓦图资源，确保在压缩过程中只处理符合要求的资源，从而优化性能和减少不必要的文件占用空间。

资源数量：表示同时压缩的瓦图资源数量；

切分层级：0表示不切分，大于0则表示按照固定层级进行智能切分；

文件校验：表示在写入压缩文件时校验文件是否有重复数据，此选项会大幅降低写入速度。

- 输入参数保存，如下图所示：

![输入图片说明](https://gitee.com/pssddddd/map-resources/raw/master/Other/13.png)

3.  其他介绍
- 系统锁定

点击界面左下角，选择锁定，系统将进入锁定状态，如下图所示：

![输入图片说明](https://gitee.com/pssddddd/map-resources/raw/master/Other/14.png)

- 修改密码

点击界面左下角，选择设置，系统将弹出密码修改界面，如下图所示：

![输入图片说明](https://gitee.com/pssddddd/map-resources/raw/master/Other/15.png)

![输入图片说明](https://gitee.com/pssddddd/map-resources/raw/master/Other/16.png)

- 关于

用于描述版本信息、免责申明等。

![输入图片说明](https://gitee.com/pssddddd/map-resources/raw/master/Other/17.png)

#### 更新历史
- 2024-10-25日更新 1.0.4 增加下载自定义区域数据、调整地图插件显示布局。
